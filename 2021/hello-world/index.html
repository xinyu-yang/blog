<!doctype html><html lang=zh-cn>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=robots content="noodp">
<meta http-equiv=x-ua-compatible content="IE=edge, chrome=1">
<title>Hello World - 麋鹿博客 (Elk blog) | 一个分享知识和乐趣的地方</title><meta name=description content="本博客第一篇文章，主要记录本博客搭建和配置的过程"><meta property="og:title" content="Hello World">
<meta property="og:description" content="本博客第一篇文章，主要记录本博客搭建和配置的过程">
<meta property="og:type" content="article">
<meta property="og:url" content="https://xinyu-yang.github.io/blog/2021/hello-world/"><meta property="og:image" content="https://xinyu-yang.github.io/logo.png"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2021-03-04T16:25:56+08:00">
<meta property="article:modified_time" content="2022-01-26T21:16:26+08:00">
<meta name=twitter:card content="summary_large_image">
<meta name=twitter:image content="https://xinyu-yang.github.io/logo.png">
<meta name=twitter:title content="Hello World">
<meta name=twitter:description content="本博客第一篇文章，主要记录本博客搭建和配置的过程">
<meta name=application-name content="麋鹿博客">
<meta name=apple-mobile-web-app-title content="麋鹿博客"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico>
<link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png>
<link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://xinyu-yang.github.io/blog/2021/hello-world/><link rel=next href=https://xinyu-yang.github.io/blog/2021/00-00-02_euclid/><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/normalize.css@8.0.1/normalize.min.css><link rel=stylesheet href=/blog/css/style.min.457b41f3877ae4698fed78d872da4da64fa4f2b3d27162707df2dcb9141a227f.css integrity="sha256-RXtB84d65GmP7XjYctpNpk+k8rPScWJwffLcuRQaIn8="><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.13.0/css/all.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@3.7.2/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Hello World","inLanguage":"zh-CN","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/xinyu-yang.github.io\/blog\/2021\/hello-world\/"},"image":["https:\/\/xinyu-yang.github.io\/blog\/images\/avatar.png"],"genre":"posts","keywords":"blog, config","wordcount":5061,"url":"https:\/\/xinyu-yang.github.io\/blog\/2021\/hello-world\/","datePublished":"2021-03-04T16:25:56+08:00","dateModified":"2022-01-26T21:16:26+08:00","license":"This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","publisher":{"@type":"Organization","name":"Xinyu Yang","logo":"https:\/\/xinyu-yang.github.io\/blog\/images\/avatar.png"},"author":{"@type":"Person","name":"Xinyu Yang"},"description":"本博客第一篇文章，主要记录本博客搭建和配置的过程"}</script></head>
<body header-desktop=fixed header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem('theme')?localStorage.getItem('theme')==='dark':'auto'==='auto'?window.matchMedia('(prefers-color-scheme: dark)').matches:'auto'==='dark')&&document.body.setAttribute('theme','dark')</script>
<div id=mask></div><div class=wrapper><header class=desktop id=header-desktop>
<div class=header-wrapper>
<div class=header-title>
<a href=/blog/ title="麋鹿博客 (Elk blog) | 一个分享知识和乐趣的地方"><img class="lazyload logo" src=/blog/svg/loading.min.svg data-src=/blog/images/avatar.png data-srcset="/blog/images/avatar.png, /blog/images/avatar.png 1.5x, /blog/images/avatar.png 2x" data-sizes=auto alt=/blog/images/avatar.png title=/blog/images/avatar.png>麋鹿博客</a>
</div>
<div class=menu>
<div class=menu-inner><a class=menu-item href=/blog/posts/ title=文章列表> 文章 </a><a class=menu-item href=/blog/categories/> 分类 </a><a class=menu-item href=/blog/tags/> 标签 </a><a class=menu-item href=/blog/about/> 关于 </a><a class=menu-item href=https://github.com/xinyu-yang/blog title=GitHub rel="noopener noreferrer" target=_blank><i class="fab fa-github fa-fw"></i> </a><span class="menu-item delimiter"></span><a href=javascript:void(0); class="menu-item language" title=选择语言>简体中文<i class="fas fa-chevron-right fa-fw"></i>
<select class=language-select id=language-select-desktop onchange="location=this.value"><option value=/blog/en/2021/hello-world/>English</option><option value=/blog/2021/hello-world/ selected>简体中文</option></select>
</a><span class="menu-item search" id=search-desktop>
<input type=text placeholder=搜索文章标题或内容... id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=搜索>
<i class="fas fa-search fa-fw"></i>
</a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=清空>
<i class="fas fa-times-circle fa-fw"></i>
</a>
<span class="search-button search-loading" id=search-loading-desktop>
<i class="fas fa-spinner fa-fw fa-spin"></i>
</span>
</span><a href=javascript:void(0); class="menu-item theme-switch" title=切换主题>
<i class="fas fa-adjust fa-fw"></i>
</a>
</div>
</div>
</div>
</header><header class=mobile id=header-mobile>
<div class=header-container>
<div class=header-wrapper>
<div class=header-title>
<a href=/blog/ title="麋鹿博客 (Elk blog) | 一个分享知识和乐趣的地方"><img class="lazyload logo" src=/blog/svg/loading.min.svg data-src=/blog/images/avatar.png data-srcset="/blog/images/avatar.png, /blog/images/avatar.png 1.5x, /blog/images/avatar.png 2x" data-sizes=auto alt=/blog/images/avatar.png title=/blog/images/avatar.png>麋鹿博客</a>
</div>
<div class=menu-toggle id=menu-toggle-mobile>
<span></span><span></span><span></span>
</div>
</div>
<div class=menu id=menu-mobile><div class=search-wrapper>
<div class="search mobile" id=search-mobile>
<input type=text placeholder=搜索文章标题或内容... id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=搜索>
<i class="fas fa-search fa-fw"></i>
</a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=清空>
<i class="fas fa-times-circle fa-fw"></i>
</a>
<span class="search-button search-loading" id=search-loading-mobile>
<i class="fas fa-spinner fa-fw fa-spin"></i>
</span>
</div>
<a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>
取消
</a>
</div><a class=menu-item href=/blog/posts/ title=文章列表>文章</a><a class=menu-item href=/blog/categories/ title>分类</a><a class=menu-item href=/blog/tags/ title>标签</a><a class=menu-item href=/blog/about/ title>关于</a><a class=menu-item href=https://github.com/xinyu-yang/blog title=GitHub rel="noopener noreferrer" target=_blank><i class="fab fa-github fa-fw"></i></a><a href=javascript:void(0); class="menu-item theme-switch" title=切换主题>
<i class="fas fa-adjust fa-fw"></i>
</a><a href=javascript:void(0); class=menu-item title=选择语言>简体中文<i class="fas fa-chevron-right fa-fw"></i>
<select class=language-select onchange="location=this.value"><option value=/blog/en/2021/hello-world/>English</option><option value=/blog/2021/hello-world/ selected>简体中文</option></select>
</a></div>
</div>
</header>
<div class="search-dropdown desktop">
<div id=search-dropdown-desktop></div>
</div>
<div class="search-dropdown mobile">
<div id=search-dropdown-mobile></div>
</div>
<main class=main>
<div class=container><div class=toc id=toc-auto>
<h2 class=toc-title>目录</h2>
<div class="toc-content always-active" id=toc-content-auto></div>
</div><article class="page single"><h1 class="single-title animated flipInX">Hello World</h1><div class=post-meta>
<div class=post-meta-line><span class=post-author><a href=https://xinyu-yang.github.io title=Author target=_blank rel="noopener noreferrer author" class=author><i class="fas fa-user-circle fa-fw"></i>Xinyu Yang</a></span>&nbsp;<span class=post-category>收录于 <a href=/blog/categories/record/><i class="far fa-folder fa-fw"></i>record</a></span></div>
<div class=post-meta-line><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime=2021-03-04>2021-03-04</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;约 5061 字&nbsp;
<i class="far fa-clock fa-fw"></i>&nbsp;预计阅读 11 分钟&nbsp;<i class="fas fa-eye fa-fw"></i>&nbsp;
<span id=busuanzi_container_page_pv class=more-meta> <span id=busuanzi_value_page_pv><img src=/blog/img/spinner.svg alt=spinner.svg></span> 次阅读 </span>&nbsp;</div>
</div><div class="details toc" id=toc-static kept>
<div class="details-summary toc-title">
<span>目录</span>
<span><i class="details-icon fas fa-angle-right"></i></span>
</div>
<div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents>
<ul>
<li><a href=#博客搭建记录>博客搭建记录</a>
<ul>
<li><a href=#软件安装>软件安装</a></li>
<li><a href=#网站和主题配置>网站和主题配置</a></li>
<li><a href=#主题开发>主题开发</a></li>
<li><a href=#评论系统>评论系统</a></li>
<li><a href=#写博客>写博客</a></li>
<li><a href=#使用github发布博客>使用github发布博客</a></li>
<li><a href=#图床>图床</a></li>
</ul>
</li>
</ul>
</nav></div>
</div><div class=content id=content><!--# Hello World.-->
<h2 id=博客搭建记录>博客搭建记录</h2>
<p>在阅读了众多的博客搭建教程之后，最终选择了使用<code>github</code> + <a href=gohugo.io rel>hugo</a> 进行搭建，主题为 <a href=https://hugo-theme-even.netlify.app/ target=_blank rel="noopener noreferrer">even</a>. 希望借此博客在互联网上留下一点有价值的东西，同时作为自己的学习笔记，温故而知新。</p>
<p><figure><a class=lightgallery href=/blog/2021/hello-world/test.png title=testImg data-thumbnail=/blog/2021/hello-world/test.png data-sub-html="<h2>Image test</h2><p>testImg</p>">
<img class=lazyload src=/blog/svg/loading.min.svg data-src=test.png data-srcset="/blog/2021/hello-world/test.png, test.png 1.5x, /blog/2021/hello-world/test.png 2x" data-sizes=auto alt=/blog/2021/hello-world/test.png>
</a><figcaption class=image-caption>Image test</figcaption>
</figure></p>
<h3 id=软件安装>软件安装</h3>
<p>首先进行相应软件的安装，具体可以参考官方文档的安装步骤。本文以 ubuntu 举例说明。在 ubuntu 上可直接使用<code>apt</code>进行安装，但是使用该方法安装的 hugo 软件版本过低，会导致本文所使用的主题 even 无法使用（我所使用的 even 要求最低版本为 0.60），而且这个问题可能在其他主题上也存在。总而言之，建议直接安装最新版本，可直接到 <a href=https://github.com/gohugoio/hugo/releases target=_blank rel="noopener noreferrer">release</a> 下载。</p>
<h3 id=网站和主题配置>网站和主题配置</h3>
<p>软件安装好了之后，可以创建一个文件夹作为根目录(如<code>mkdir blog</code>)并使用<code>git init</code>进行初始化，然后在该目录下进行 hugo 的初始化，初始化操作为</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-shell data-lang=shell>hugo new site <span class=o>[</span>blogs name<span class=o>]</span>
</code></pre></td></tr></table>
</div>
</div><p>然后在该目录下就会创建一些文件夹，如：</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback>-- README.md  
-- archetypes 
-- config.toml
-- content    
-- public     
-- resources  
-- themes     
</code></pre></td></tr></table>
</div>
</div><p>文件夹的具体作用我正在继续摸索，现在大概知道<code>config.toml</code>是全局配置文件，关于网站的一些常用配置基本都放在这里。当下载和使用某个主题的时候，该主题一般会提供一个配置模板，用户只需要把该文件复制到博客根目录下，并且根据主题或者模板中的注释按需修改即可。具体使用要参考不同主题。</p>
<p><code>content</code>文件夹中放置的是博客的内容，如本博客的路径就是<code>content/post/hello-world</code>。经过摸索本人发现，content 文件夹下的子文件夹的名字可以随便起，只要最后在配置文件中使用相同的配置即可。另外，在子文件夹下也可以再建文件夹，这时的文件夹也可以随便取名字，而且无需在配置文件中进行配置。
推测 hugo 的机制是会扫描 content 的子文件夹下 (e.g., post) 所有的 markdown 文件。</p>
<p><code>themes</code>中所存放的就是主题文件，文件夹下可有多个主题，但是在使用的时候只能指定其中一个，具体使用哪个可以在全局配置文件中配置。</p>
<p><code>public</code>中所存放的是一些经过编译的网页内容，即使用 markdown 编写的博客经过编译以后会放到这个文件夹里，该文件夹下的所有东西会被原封不动地发布。对于创作者来说，这部分编译生成的东西不需要过分关心。因为具体编译出什么样的效果都可以在编译之前进行设置。</p>
<p><code>archetypes</code>中存放的好像是模板之类的东西，hugo 官网对此有一些介绍，但我没有深入研究，目前只是用了些简单的配置。简单来说，这部分中有一个名为 <code>default.md</code>的模板文件，里面存放着一些默认配置，当使用命令 <code>hugo new xxx/xxx.md</code>创建新的博客的时候，会自动按照该模板文件进行创建。该模板包含一些默认配置，用户可以对不同博客的配置进行修改。</p>
<p>接下来讨论怎么设置主题，经过一段时间纠结的筛选后，决定暂时使用<code>even</code>主题，主要原因有：</p>
<ul>
<li>主题看来还算简洁</li>
<li>维护还算活跃</li>
<li>该主题是一个博客性质的主题，比较符合目前需求</li>
<li>该主题的开发者是国人同胞，可能比较符合国人的应用习惯</li>
</ul>
<p>选定主题后，就将该<a href=https://github.com/olOwOlo/hugo-theme-even target=_blank rel="noopener noreferrer">主题</a> clone 到 themes 文件夹下并命名为 even 。然后将该仓库添加为本仓库的子模块。</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-shell data-lang=shell>git submodule add https://github.com/olOwOlo/hugo-theme-even ./themes/even
</code></pre></td></tr></table>
</div>
</div><p>然后可以参考 even 主题的教程，将其配置文件进行拷贝和自行配置。其配置方面的文档较少，但好处是其配置文档中都使用了中文对其作用和用法进行了大概的注释，同样也可以根据需求进行增添内容，具体细节将后续进行学习。</p>
<p>&mdash;&mdash;&mdash;&mdash;21/04/07更新&mdash;&mdash;&mdash;&ndash;</p>
<p>感觉 even 有些功能不理想，比如说分类和标签没有任何区分度，并且作者似乎已经停止开发了，所以准备转到 LoveIt 的继任者 <a href=https://github.com/sunt-programator/CodeIT target=_blank rel="noopener noreferrer">CodeIT</a> 上，不过 even 也有优点，就是作者是国人，所以一些特性（如百度统计、不蒜子等）还是挺符合国人习惯和应用需求的。
但是写博客不就是为了折腾吗？😂，把仅有的几个博客来回迁移😂。选定新的主题后，准备进行迁移，下面准备讲述更新过程。</p>
<p>使用这两个主题的时候都会遇到一个问题，就是数学公式的显示问题，感觉两个主题都有一些不尽如人意的地方，接下来将讲述我遇到的问题，以及目前所采用的方式。希望以后能够有机会了解 hugo 的细节，从而更好的解决该问题。</p>
<p>关于该问题，请参考<a href=../21-12-04_math-in-markdown/ rel>相关文章</a></p>
<h3 id=主题开发>主题开发</h3>
<p>&mdash;&mdash;&mdash;&mdash;21/10/26更新&mdash;&mdash;&mdash;&ndash;</p>
<p>鉴于已有主题的不尽如人意，所以本着折腾的精神，本人决定基于 CodeIT 主题进行折腾，主要目标有两个：1.增加自己想要的特性（如不蒜子统计阅读量等）2.删除过于冗余的功能</p>
<p>新的主题名为 <a href=https://github.com/xinyu-yang/EnjoyIt target=_blank rel="noopener noreferrer">EnjoyIt</a>，意为享受折腾写博客的过程。本人所有的对本博客的设置都将体现在该主题上。</p>
<p>&mdash;&mdash;&mdash;&mdash;21/11/4更新&mdash;&mdash;&mdash;&mdash;</p>
<p>感觉原主题的白色背景太过刺眼，所以就换了个米黄色的背景颜色。
另外，感觉原本主题的默认字体不是特别好看，尤其是在同时有中文和英文的情况下，所以本人打算更改下默认字体。但经摸索后发现现有设置是加载最高效的方式（优先使用默认字体），决定暂时还是不改了，以性能为重。</p>
<p>&mdash;&mdash;&mdash;&ndash;21/11/19更新&mdash;&mdash;&mdash;&mdash;</p>
<p>结合自己对于模板的学习，新增加了该章节。这部分主要记录自己在摸索过程中所学到的一些东西。
首先，对于一个主题，主要有以下目录结构：</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback>|-- [theme name]
\
 |-- archetypes
 |-- assets
 |-- exampleSite
 |-- i18n
 |-- images
 |-- layouts
 |-- resources
 |-- src
 |-- static
 |-- theme.toml
</code></pre></td></tr></table>
</div>
</div><p>其中，<code>theme.toml</code>即为配置文件模板。archetypes 文件夹中存放的东西与上文介绍相同，即一些模板文件。
assets 文件夹中存放了 css 文件和所有使用到的 javascript 库。
exampleSite 中存放了一个示例站点，感觉是用来调试主题的，切换到该目录下可以直接运行 <code>hugo server</code> 进行查看。该目录下的目录结构与上文所述网站目录相似，当然肯定没有 themes ，要不然不就循环依赖了嘛。</p>
<p>i18n 目录下存放的是用来进行多语言支持的一些文件。images 文件夹顾名思义，就是用来存放一些用户的图片。
static 也可以用来存一些图片，但是这部分图片一般是主题的一部分，而不像 images 中存放用户图片。同时该目录下还会存一些如字体、emoji 表情等静态文件。
resources 目录没搞明白，不过看起来像是存了一些自动生成的文件。
至于 src 目录则是存放了该主题的源代码，这个文件夹似乎是自定义的，而不是主题须有的常规文件夹。</p>
<p>之所以把 layouts 文件夹放到最后，就是因为该文件夹下存了关于主题配置的大部分内容。实际上我对于主题的定制化工作，也大部分都是在此目录下完成的。首先看下该文件夹下的重点目录：</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback>|-- _default
|-- partials
   \
    |-- assets.html
    |-- comment.html
    |-- footer.html
    |-- function
    |-- head
    |-- header.html
    |-- home
    |-- init.html
    |-- paginator.html
    |-- plugin
    |-- rss
    |-- scratch
    |-- single
|-- posts
|-- robots.txt
|-- shortcodes
|-- taxonomy
</code></pre></td></tr></table>
</div>
</div><p>其中，重点的配置主要都集中在 partials 目录，该部分定义了博客的 header, footer, comment 等，同时针对不同的界面 home, single 等也可以有不同的配置。所有的这些配置采用了 hugo 的语法进行编写，所以如果想要自己定制的话，需要先学习下相应的语法知识。</p>
<h3 id=评论系统>评论系统</h3>
<p>不得不说的一个话题是<strong>评论系统</strong>，一个完善的博客平台，需要有与读者直接交流的方式。目前有很多解决方案，成熟的解决方案有 disqus，当时好像需要后端的支持，但像我这种想把博客免费部署到 github 上的人来说，后端支持太奢侈了。</p>
<p>幸运的是开源社区有很多很好的“无后端（白嫖后端）”评论系统，像是 utterances, gitalk, <a href=https://valine.js.org target=_blank rel="noopener noreferrer">valine</a> 等，前两者都使用了 github 的 issue 机制来实现评论的记录和用户的管理。界面漂亮，功能稳定，如果搭载 github page 使用，真的是原汤化原食， github 全家桶。
而且我最近又在 github 上看到了一个类似的项目 giscus, 该项目几乎完全借鉴了 utterances，但改进在于该评论系统使用了 github 最新推出的 discussions 功能进行评论的管理，相对于 issue 机制来说，这种方式明显看起来更专业。因为 discussion 模块本来就是用来讨论的，所以可以对别人的评论进行直接回复，而不是只有一个<code>@xxx</code>。对于想使用 github 托管评论的博主，giscus 是更加先进的选择。</p>
<div class="details admonition tip open">
<div class="details-summary admonition-title">
<i class="icon fas fa-lightbulb fa-fw"></i>总结<i class="details-icon fas fa-angle-right fa-fw"></i>
</div>
<div class=details-content>
<div class=admonition-content>如果使用 github 进行托管的话，就用 giscus</div>
</div>
</div>
<p>以上基于 github 的评论系统做的都非常优秀，但是他们有一个共同的问题，就是用户需要使用 github 账号登录才能进行评论。这对于像我这种程序员来说不是问题，毕竟我本人使用 github 的频率和某信差不多，但是这并不适用所有人。
而且当我看到 <a href=https://valine.js.org target=_blank rel="noopener noreferrer">valine</a> 简洁漂亮的界面，以及无需登录就可以评论的功能时，我决定尝试下该评论系统。配置好之后感觉还是很满意的，具体效果见文章末尾。</p>
<p>关于不同评论系统的对比，有位同学写了篇<a href=https://www.yunyoujun.cn/share/third-party-comment-system/ target=_blank rel="noopener noreferrer">文章</a>，我感觉还不错，不了解的同学可以参考下。
另外，从他的文章中我又了解了另外一个评论系统 <a href=https://waline.js.org/ target=_blank rel="noopener noreferrer">waline</a>，该博客系统似乎借鉴了 <a href=https://valine.js.org target=_blank rel="noopener noreferrer">valine</a>，属于后来者，似乎也是居上者。</p>
<p>========= 12/3/2021/ 更新=========</p>
<p>在尝试了 valine 评论系统若干天之后，我放弃了，原因包括但不限于：</p>
<ul>
<li>该项目维护不太活跃，而且作者也已经不再开放源码 <a href=https://github.com/xCss/Valine target=_blank rel="noopener noreferrer">参考</a></li>
<li>该项目的配置稍显复杂，而且需要借用其他的项目如 valine-admin 来实现一些功能</li>
<li>最重要的一点，该项目所基于的 LeanCloud 似乎在有意遏制免费用户的使用</li>
</ul>
<p>其中最重要的是第三点，而这一点展开来讲又有以下几点原因：</p>
<ul>
<li>LeanCloud 免费版每天有强制至少 6 小时的休眠时间</li>
<li>如果 30 分钟无活动，LeanCloud 则自动休眠，有新评论会重新启动，但第一条评论无法触发通知</li>
<li>针对上一条问题的解决方案为定时重启，但是后来 LeanCloud 几乎禁止了该操作 <a href="https://www.google.com/search?q=valine+%E5%9B%A0%E6%B5%81%E6%8E%A7%E5%8E%9F%E5%9B%A0%E8%87%AA%E5%8A%A8%E5%94%A4%E9%86%92%E4%BB%BB%E5%8A%A1%E5%A4%B1%E8%B4%A5" target=_blank rel="noopener noreferrer">参考</a></li>
<li>LeanCloud 经常更换 API 域名 <a href=https://github.com/xCss/Valine/issues/377#issuecomment-983259692 target=_blank rel="noopener noreferrer">参考</a>，这一点很难让人理解。</li>
</ul>
<p>综上所述，我更换为了 <a href=https://twikoo.js.org target=_blank rel="noopener noreferrer">Twikoo</a>，现在刚开始使用，感觉还不错，唯一的问题就是没人评论~</p>
<h3 id=写博客>写博客</h3>
<p>上面已经进行了大概的配置，下面将介绍怎么写一篇博客。首先使用</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback>hugo new post/hello-world
</code></pre></td></tr></table>
</div>
</div><p>创建一个新的博客，该命令将创建一个文件：<code>content/post/hello-world.md</code>。该文件会包含一个文件头</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback>title: ***
date: 202***
draft: true
</code></pre></td></tr></table>
</div>
</div><p>draft一栏默认为<code>true</code>，如果想要发布该博客，需要将其修改为<code>false</code>。</p>
<p>hugo的一个好处就是可以边写博客边进行调试，其具体操作为：在主目录下（即blog/）运行</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback>hugo server -D
</code></pre></td></tr></table>
</div>
</div><p>该命令将启动一个本地服务，端口号为1313，在本地使用浏览器访问：<a href=http://localhost:1313 target=_blank rel="noopener noreferrer">http://localhost:1313</a>即可在线预览自己的博客内容。每次保存文件时，hugo都会自动进行编译，速度很快，几乎实现了markdown的同步预览，非常方便！</p>
<p>在发布之前应该使用</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback>hugo -D
</code></pre></td></tr></table>
</div>
</div><p>编译一下，整个网站的源代码会输出到 public 文件夹，至此已经可以实现基本的功能。</p>
<h3 id=使用github发布博客>使用github发布博客</h3>
<p>首先要有一个github账号，然后创建一个新的仓库，其名字为：[your github id].github.io，关于这方面的教程非常多，也很简单，这里就不再赘述。然后其部署可参考<a href=https://gohugo.io/hosting-and-deployment/hosting-on-github/#build-hugo-with-github-action target=_blank rel="noopener noreferrer">https://gohugo.io/hosting-and-deployment/hosting-on-github/#build-hugo-with-github-action</a>。其操作非常方便，只需要创建一个文件，然后将一些github action代码复制进去就行了。具体原理后续研究&mldr;(这里不得不感叹一句，github的功能比我想象的要强大多了!)</p>
<p>然后就是将本地文件(即blog/文件夹)push到所创建的仓库中。最后需要注意的是在上面所创建的仓库的设置页面要进行一定的设置，其位置为<code>setting->github pages->source</code>，需要将branch更改为<code>gh-pages</code>，路径为<code>root</code>，在这里还可以设置定制化的域名等，这里先暂时不研究。通过以上设置应该就可以成功访问页面了。如本博客主页为：<em><a href=http://xinyu-yang.github.io target=_blank rel="noopener noreferrer">http://xinyu-yang.github.io</a></em></p>
<p>&mdash;&mdash;&mdash;&ndash;21/11/19更新&mdash;&mdash;&mdash;&mdash;</p>
<p>后来发现，因为把原文档 push 到 github 仓库之后，github action 会自动进行编译。所以在 push 之前，甚至不用自己编译，直接将原文档 push 上去即可。</p>
<h3 id=图床>图床</h3>
<p>以前用CSDN和博客园写的时候根本不用考虑这个问题，但是现在自己搭建博客的时候就需要好好考虑一下这个问题。一开始惊喜的发现有很多的免费图床网站（比如imgbb），开心的以为这个问题解决了，后来发现没那么简单。因为这些免费的图床往往有很多限制，比如上面举例说的这个imgbb，该网站一开始用着还行，可是过几天再在博客里加载图片时只能加载出缩略图了。</p>
<p>后来就寻求解决方案，最后的决定是仍然使用开源的代码托管网站托管图片，把白嫖进行到底😂。最终我决定使用<a href=https://molunerfinn.com/PicGo/ target=_blank rel="noopener noreferrer">PicGo</a>+(Gitee/Gitlab/Github)实现。</p>
<p>图床部分本来只有简单介绍，后来觉得各种东西都放在同一篇博客就显得太混杂了，因此另起了一篇新的博客进行介绍——<a href=../21-09-09_picture-bed/ rel>文章地址</a></p>
</div><div class=post-footer id=post-footer>
<div class=post-info>
<div class=post-info-line>
<div class=post-info-mod>
<span>更新于 2022-01-26&nbsp;<a class=git-hash href=https://github.com/xinyu-yang/blog/commit/ef7c2853baf18484753320f441baac489d3f1834 target=_blank rel="noopener noreferrer" title="commit by netlab-yang(yangxinyu75@live.com) ef7c2853baf18484753320f441baac489d3f1834: add snow">
<i class="fas fa-hashtag fa-fw"></i>ef7c285</a></span>
</div>
<div class=post-info-license></div>
</div>
<div class=post-info-line>
<div class=post-info-md><span>
<a class=link-to-markdown href=/blog/2021/hello-world/index.md target=_blank rel="noopener noreferrer">阅读原始文档</a>
</span></div>
<div class=post-info-share>
<span><a href=javascript:void(0); title="分享到 Twitter" data-sharer=twitter data-url=https://xinyu-yang.github.io/blog/2021/hello-world/ data-title="Hello World" data-via=xinyuyang18 data-hashtags=blog,config><i class="fab fa-twitter fa-fw"></i></a><a href=javascript:void(0); title="分享到 Facebook" data-sharer=facebook data-url=https://xinyu-yang.github.io/blog/2021/hello-world/ data-hashtag=blog><i class="fab fa-facebook-square fa-fw"></i></a><a href=javascript:void(0); title="分享到 Hacker News" data-sharer=hackernews data-url=https://xinyu-yang.github.io/blog/2021/hello-world/ data-title="Hello World"><i class="fab fa-hacker-news fa-fw"></i></a><a href=javascript:void(0); title="分享到 微博" data-sharer=weibo data-url=https://xinyu-yang.github.io/blog/2021/hello-world/ data-title="Hello World"><i class="fab fa-weibo fa-fw"></i></a></span>
</div>
</div>
</div>
<div class=post-info-more>
<section class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/blog/tags/blog/>blog</a>,&nbsp;<a href=/blog/tags/config/>config</a></section>
<section>
<span><a href=javascript:void(0); onclick=window.history.back()>返回</a></span>&nbsp;|&nbsp;<span><a href=/blog/>主页</a></span>
</section>
</div>
<div class=post-nav>
<a href=/blog/2021/00-00-02_euclid/ class=next rel=next title="Euclid Algorithm and Extended Euclid Algorithm.">Euclid Algorithm and Extended Euclid Algorithm.<i class="fas fa-angle-right fa-fw"></i></a></div>
</div>
<div id=comments><div id=tcomment></div><noscript>
Please enable JavaScript to view the comments powered by <a href=https://twikoo.js.org/>Twikoo</a>.
</noscript></div></article></div>
</main><footer class=footer>
<div class=footer-container><div class=footer-line>
<span id=busuanzi_container_site_pv> 本站总访问量 <span id=busuanzi_value_site_pv><img src=/blog/img/spinner.svg alt=spinner.svg></span> 次 </span>
<span class=division>•</span>
<span id=busuanzi_container_site_uv> 本站总访客数 <span id=busuanzi_value_site_uv><img src=/blog/img/spinner.svg alt=spinner.svg></span> 人 </span>
</div>
<div class=footer-line><a href=https://gohugo.io/ target=_blank rel="noopener noreferrer" title="Hugo 0.92.0">Hugo</a> - <a href=https://github.com/xinyu-yang/EnjoyIt target=_blank rel="noopener noreferrer" title="EnjoyIt 0.0.1"><i class="fas fa-heart fa-fw"></i>EnjoyIt</a><span class=division> • </span>
<i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2021 - 2022</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=https://xinyu-yang.github.io target=_blank rel="noopener noreferrer">Xinyu Yang</a></span>&nbsp;•&nbsp;<span class=license><a rel="license external nofollow noopener noreferrer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div>
</div>
</footer></div>
<div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title=回到顶部>
<i class="fas fa-arrow-up fa-fw"></i>
</a><a href=# id=view-comments class=fixed-button title=查看评论>
<i class="fas fa-comment fa-fw"></i>
</a>
</div><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/lightgallery.js@1.2.0/dist/css/lightgallery.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/katex.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/contrib/copy-tex.min.css><script type=text/javascript src=https://cdn.jsdelivr.net/npm/twikoo@1.4.11/dist/twikoo.all.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/smooth-scroll@16.1.3/dist/smooth-scroll.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/autocomplete.js@0.37.1/dist/autocomplete.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lunr@2.3.8/lunr.min.js></script><script type=text/javascript src=/blog/lib/lunr/lunr.stemmer.support.min.d083e6109310cfdc62d9b0e85b94a19ef28a25e2cd65e0f0ddb5925e82dff646.js integrity="sha256-0IPmEJMQz9xi2bDoW5ShnvKKJeLNZeDw3bWSXoLf9kY="></script><script type=text/javascript src=/blog/lib/lunr/lunr.multi.min.cefa9a416dd7cdb1b8b3d873fb4cdc5247789316e11b58f790be0b65d7119cfd.js integrity="sha256-zvqaQW3XzbG4s9hz+0zcUkd4kxbhG1j3kL4LZdcRnP0="></script><script type=text/javascript src=/blog/lib/lunr/lunr.zh.min.a3f9c6f4c2a9e8a2568064c63f055e265fa73b19e1464e5dfdf0ded3fe016987.js integrity="sha256-o/nG9MKp6KJWgGTGPwVeJl+nOxnhRk5d/fDe0/4BaYc="></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lazysizes@5.2.2/lazysizes.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lightgallery.js@1.2.0/dist/js/lightgallery.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lg-thumbnail.js@1.2.0/dist/lg-thumbnail.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lg-zoom.js@1.2.0/dist/lg-zoom.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/sharer.js@0.4.0/sharer.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/katex.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/contrib/auto-render.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/contrib/copy-tex.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/contrib/mhchem.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"复制到剪贴板",maxShownLines:10},comment:{twikoo:{el:"#tcomment",envId:"https://twikoo-comment-xinyu-yang.vercel.app/"}},lightGallery:{actualSize:!1,exThumbImage:"data-thumbnail",hideBarsDelay:2e3,selector:".lightgallery",speed:400,thumbContHeight:80,thumbWidth:80,thumbnail:!0},math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1},search:{highlightTag:"em",lunrIndexURL:"/blog/index.json",lunrLanguageCode:"zh",lunrSegmentitURL:"/blog/lib/lunr/lunr.segmentit.js",maxResultLength:10,noResultsFound:"没有找到结果",snippetLength:50,type:"lunr"}}</script><script type=text/javascript src=/blog/js/theme.a63aa926c3cd8d6695367caa381f19bdaa78efc1bd87b33c0a4968ca187b5c7f.js integrity="sha256-pjqpJsPNjWaVNnyqOB8Zvap478G9h7M8Ckloyhh7XH8="></script><script type=text/javascript>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-NSNR248K3V')</script><script type=text/javascript src="https://www.googletagmanager.com/gtag/js?id=G-NSNR248K3V" async></script><script id=baidu_analytics type=text/javascript>var _hmt=_hmt||[];(function(){var a,b;if(window.location.hostname==='localhost')return;a=document.createElement("script"),a.async=!0,a.src="https://hm.baidu.com/hm.js?b72cf2095ce01c4c9d6392678286aafd",b=document.getElementsByTagName("script")[0],b.parentNode.insertBefore(a,b)})()</script></body>
</html>